"use strict";(self.webpackChunkvialand=self.webpackChunkvialand||[]).push([[433],{6791:function(e,n,t){t.d(n,{r:function(){return o}});var r=t(4165),a=t(5861),u=t(9439),c=t(7313),s=t(9225);function o(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=(0,c.useState)("idle"),o=(0,u.Z)(t,2),i=o[0],l=o[1],d=(0,c.useState)(null),f=(0,u.Z)(d,2),p=f[0],v=f[1],h=(0,c.useState)(null),m=(0,u.Z)(h,2),x=m[0],Z=m[1],b="pending"===i,g="error"===i,j=(0,c.useCallback)(function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l("pending"),v(null),Z(null),n.prev=3,n.next=6,e();case 6:return a=n.sent,t&&(v(a),l("success")),n.abrupt("return",a);case 11:n.prev=11,n.t0=n.catch(3),t&&(l("error"),Z(n.t0));case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}(),[e]);return(0,s.u)((function(e){n&&j(e())}),[n]),(0,c.useEffect)((function(){return function(){l("idle"),v(null),Z(null)}}),[]),{isLoading:b,isError:g,status:i,data:p,error:x,execute:function(){return j(!0)}}}},9225:function(e,n,t){t.d(n,{u:function(){return a}});var r=t(7313);function a(e,n){var t=(0,r.useRef)(e);t.current=e;var a=(0,r.useRef)(!1);(0,r.useEffect)((function(){return a.current=!0,t.current((function(){return a.current})),function(){a.current=!1}}),n)}},6243:function(e,n,t){t.d(n,{db:function(){return b}});var r=t(271),a=t(995),u=t(573),c=t(6797),s=t(8941),o=s.Z.firebase,i=o.apiKey,l=o.appId,d=o.databaseURL,f=o.projectId,p=o.storageBucket,v=o.authDomain,h=o.messagingSenderId,m=s.Z.google.recaptchaSiteKey,x={apiKey:i,authDomain:v,databaseURL:d,projectId:f,storageBucket:p,messagingSenderId:h,appId:l},Z=(0,r.ZF)(x),b=(0,u.ad)(Z);(0,c.cF)(Z),(0,a.yu)(Z,{provider:new a.z9(m),isTokenAutoRefreshEnabled:!0})},8433:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var r=t(3061),a=t(7313),u=t(4511),c=t(7864),s=t(7890),o=t(753),i=t(887),l=t(6462),d=t(6417),f=a.memo((function(e){var n=e.data,t=void 0===n?[]:n;return(0,d.jsx)(d.Fragment,{children:t.map((function(e){return(0,d.jsx)(o.YE,{data:e},e.id)}))})}));function p(){var e=(0,s.TH)().pathname,n=(0,u.$)().t,t=e.endsWith("/du-an")?i.Bs.project:e.endsWith("/tin-tuc")?i.Bs.news:void 0,a=(0,l._)(t,20),p=a.data,v=a.isLoading,h=a.canLoadMore,m=a.load;return t?(0,d.jsx)("div",{className:"p-2 md:p-5 h-full flex items-center flex-col",children:(0,d.jsxs)("div",{className:"max-w-[1000px] w-full flex-1 overflow-y-auto",children:[(0,d.jsx)(f,{data:p}),v&&(0,d.jsx)(o.x4,{title:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(c.Z7b,{className:"animate-spin"})," ",n("searching")]})}),h&&(0,d.jsxs)("button",{className:(0,r.Z)("btn mt-5 mx-auto px-10 rounded-full bg-gray-200 text-black",v&&"btn--disabled"),onClick:m,disabled:v,children:[v&&(0,d.jsx)(c.Z7b,{className:"animate-spin",size:16}),(0,d.jsx)("span",{children:n("load_more")})]})]})}):(0,d.jsx)(s.Fg,{to:"/"})}},6462:function(e,n,t){t.d(n,{_:function(){return x}});var r=t(4165),a=t(3433),u=t(1413),c=t(5861),s=t(4925),o=t(9439),i=t(573),l=t(7313),d=t(7890),f=t(8576),p=t(6791),v=t(1754),h=t(6243),m=["execute"],x=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=(0,d.TH)(),Z=x.pathname,b=(0,l.useRef)(void 0),g=(0,f.y)(),j=g.set,k=g.get,y=(0,l.useState)([]),w=(0,o.Z)(y,2),E=w[0],S=w[1],I=(0,p.r)(_,!1),L=I.execute,T=(0,s.Z)(I,m),N=(0,l.useState)(void 0),P=(0,o.Z)(N,2),R=P[0],B=P[1],C=function(){S([]),B(void 0)};function F(){return K.apply(this,arguments)}function K(){return(K=(0,c.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L();case 3:(n=e.sent)&&S((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(n))})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _(){return z.apply(this,arguments)}function z(){return(z=(0,c.Z)((0,r.Z)().mark((function t(){var c,s,o,l,d;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=[],s=[],t.prev=2,R&&s.push((0,i.TQ)(R)),o=i.IO.apply(void 0,[(0,i.hJ)(h.db,"ads"),(0,i.Xo)("createdAt","desc")].concat(s,[(0,i.ar)("type","==",e),(0,i.b9)(n)])),t.next=7,(0,i.PL)(o);case 7:return(l=t.sent).docs.forEach((function(e){c.push((0,u.Z)({id:e.id},e.data()))})),d=l.docs[l.docs.length-1],B(d),b.current={data:[].concat((0,a.Z)(E),c),cursor:d},t.abrupt("return",c);case 15:return t.prev=15,t.t0=t.catch(2),t.abrupt("return",[]);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){var e=k(Z);if(e){var n=e.data,t=e.cursor;return b.current={data:n,cursor:t},S(n),void B(t)}F()}),[]),(0,l.useEffect)((function(){return function(){C()}}),[Z]),(0,l.useEffect)((function(){var e=k(Z);E&&void 0!=(null===e||void 0===e?void 0:e.scrollPos)&&document.scrollingElement.scroll({top:e.scrollPos,left:0,behavior:"instant"});var n=setTimeout((function(){e&&void 0!=e.scrollPos&&j(Z,(0,u.Z)((0,u.Z)({},e),{},{scrollPos:void 0}))}),0);return function(){clearTimeout(n)}}),[E]),(0,v.Z)((function(){return function(){!t&&b.current&&j(Z,(0,u.Z)((0,u.Z)({},b.current),{},{scrollPos:document.scrollingElement.scrollTop}))}}),[Z]),(0,u.Z)((0,u.Z)({},T),{},{data:E,canLoadMore:!!R,cursor:R,load:F})}}}]);