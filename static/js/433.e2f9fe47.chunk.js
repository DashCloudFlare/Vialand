"use strict";(self.webpackChunkvialand=self.webpackChunkvialand||[]).push([[433],{6791:function(n,e,t){t.d(e,{r:function(){return s}});var r=t(4165),u=t(5861),a=t(9439),c=t(7313),i=t(9225);function s(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=(0,c.useState)("idle"),s=(0,a.Z)(t,2),o=s[0],f=s[1],l=(0,c.useState)(null),d=(0,a.Z)(l,2),p=d[0],v=d[1],h=(0,c.useState)(null),x=(0,a.Z)(h,2),Z=x[0],g=x[1],m="pending"===o,b="error"===o,w=(0,c.useCallback)(function(){var e=(0,u.Z)((0,r.Z)().mark((function e(t){var u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f("pending"),v(null),g(null),e.prev=3,e.next=6,n();case 6:return u=e.sent,t&&(v(u),f("success")),e.abrupt("return",u);case 11:e.prev=11,e.t0=e.catch(3),t&&(f("error"),g(e.t0));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}(),[n]);return(0,i.u)((function(n){e&&w(n())}),[e]),(0,c.useEffect)((function(){return function(){f("idle"),v(null),g(null)}}),[]),{isLoading:m,isError:b,status:o,data:p,error:Z,execute:function(){return w(!0)}}}},3737:function(n,e,t){t.d(e,{M:function(){return a}});var r=t(9439),u=t(7313);function a(n){var e=n.ref,t=n.offset,a=void 0===t?50:t,c=n.loading,i=n.canLoadMore,s=n.fetchFn,o=(0,u.useState)(!1),f=(0,r.Z)(o,2),l=f[0],d=f[1];(0,u.useEffect)((function(){if(null!==e&&void 0!==e&&e.current){var n=function(n){var e=n.target,t=e.getBoundingClientRect().height;e.scrollTop+t>=e.scrollHeight-a?d(!0):d(!1)};return null===e||void 0===e||e.current.addEventListener("scroll",n),function(){var t;null===e||void 0===e||null===(t=e.current)||void 0===t||t.removeEventListener("scroll",n)}}}),[]),(0,u.useEffect)((function(){l&&!c&&i&&(null===s||void 0===s||s())}),[l])}},9225:function(n,e,t){t.d(e,{u:function(){return u}});var r=t(7313);function u(n,e){var t=(0,r.useRef)(n);t.current=n;var u=(0,r.useRef)(!1);(0,r.useEffect)((function(){return u.current=!0,t.current((function(){return u.current})),function(){u.current=!1}}),e)}},6243:function(n,e,t){t.d(e,{db:function(){return m}});var r=t(271),u=t(995),a=t(4457),c=t(6797),i=t(8941),s=i.Z.firebase,o=s.apiKey,f=s.appId,l=s.databaseURL,d=s.projectId,p=s.storageBucket,v=s.authDomain,h=s.messagingSenderId,x=i.Z.google.recaptchaSiteKey,Z={apiKey:o,authDomain:v,databaseURL:l,projectId:d,storageBucket:p,messagingSenderId:h,appId:f},g=(0,r.ZF)(Z),m=(0,a.ad)(g);(0,c.cF)(g),(0,u.yu)(g,{provider:new u.z9(x),isTokenAutoRefreshEnabled:!0})},8433:function(n,e,t){t.r(e),t.d(e,{default:function(){return d}});var r=t(7313),u=t(4511),a=t(7864),c=t(7890),i=t(623),s=t(887),o=t(6462),f=t(6417),l=r.memo((function(n){var e=n.data,t=void 0===e?[]:e;return(0,f.jsx)(f.Fragment,{children:t.map((function(n){return(0,f.jsx)(i.YE,{data:n},n.id)}))})}));function d(){var n=(0,c.TH)().pathname,e=(0,u.$)().t,t=r.useRef(null),d=n.endsWith("/du-an")?s.Bs.project:n.endsWith("/tin-tuc")?s.Bs.news:void 0,p=(0,o._)(d,20,t),v=p.data,h=p.isLoading;return d?(0,f.jsx)("div",{className:"p-2 md:p-5 h-full flex items-center flex-col",children:(0,f.jsxs)("div",{className:"max-w-[1000px] w-full flex-1 overflow-y-auto",ref:t,children:[(0,f.jsx)(l,{data:v}),h&&(0,f.jsx)(i.x4,{title:(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)(a.Z7b,{className:"animate-spin"})," ",e("searching")]})})]})}):(0,f.jsx)(c.Fg,{to:"/"})}},6462:function(n,e,t){t.d(e,{_:function(){return x}});var r=t(3433),u=t(1413),a=t(4165),c=t(5861),i=t(4925),s=t(9439),o=t(4457),f=t(7313),l=t(7890),d=t(6791),p=t(3737),v=t(6243),h=["execute"],x=function(n,e,t){var x=(0,l.TH)().pathname,Z=(0,f.useState)([]),g=(0,s.Z)(Z,2),m=g[0],b=g[1],w=(0,d.r)((function(){return R.apply(this,arguments)}),!1),y=w.execute,k=(0,i.Z)(w,h),j=(0,f.useState)(void 0),E=(0,s.Z)(j,2),L=E[0],S=E[1];(0,p.M)({ref:t,canLoadMore:!!L,loading:k.isLoading,fetchFn:function(){return I.apply(this,arguments)}});function I(){return(I=(0,c.Z)((0,a.Z)().mark((function n(){var e;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y();case 3:(e=n.sent)&&b((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(e))})),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function R(){return R=(0,c.Z)((0,a.Z)().mark((function t(){var r,c,i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],c=[],t.prev=2,L&&c.push((0,o.TQ)(L)),i=o.IO.apply(void 0,[(0,o.hJ)(v.db,"ads"),(0,o.Xo)("createdAt","desc")].concat(c,[(0,o.ar)("type","==",n),(0,o.b9)(e)])),t.next=7,(0,o.PL)(i);case 7:return s=t.sent,S(s.docs[s.docs.length-1]),s.docs.forEach((function(n){r.push((0,u.Z)({id:n.id},n.data()))})),t.abrupt("return",r);case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",[]);case 16:case"end":return t.stop()}}),t,null,[[2,13]])}))),R.apply(this,arguments)}return(0,f.useEffect)((function(){function n(){return(n=(0,c.Z)((0,a.Z)().mark((function n(){var e;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y();case 2:e=n.sent,b(null!==e&&void 0!==e?e:[]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),(0,f.useEffect)((function(){return function(){b([]),S(void 0)}}),[x]),(0,u.Z)((0,u.Z)({},k),{},{data:m})}}}]);