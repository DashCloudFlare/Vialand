"use strict";(self.webpackChunkvialand=self.webpackChunkvialand||[]).push([[608],{6791:function(e,t,n){n.d(t,{r:function(){return i}});var r=n(4165),a=n(5861),s=n(9439),c=n(7313),l=n(9225);function i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,c.useState)("idle"),i=(0,s.Z)(n,2),u=i[0],o=i[1],d=(0,c.useState)(null),f=(0,s.Z)(d,2),p=f[0],x=f[1],m=(0,c.useState)(null),h=(0,s.Z)(m,2),v=h[0],g=h[1],b="pending"===u,j="error"===u,w=(0,c.useCallback)(function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o("pending"),x(null),g(null),t.prev=3,t.next=6,e();case 6:return a=t.sent,n&&(x(a),o("success")),t.abrupt("return",a);case 11:t.prev=11,t.t0=t.catch(3),n&&(o("error"),g(t.t0));case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return(0,l.u)((function(e){t&&w(e())}),[t]),(0,c.useEffect)((function(){return function(){o("idle"),x(null),g(null)}}),[]),{isLoading:b,isError:j,status:u,data:p,error:v,execute:function(){return w(!0)}}}},3737:function(e,t,n){n.d(t,{M:function(){return s}});var r=n(9439),a=n(7313);function s(e){var t=e.ref,n=e.offset,s=void 0===n?50:n,c=e.loading,l=e.canLoadMore,i=e.fetchFn,u=(0,a.useState)(!1),o=(0,r.Z)(u,2),d=o[0],f=o[1];(0,a.useEffect)((function(){if(t.current){var e=function(e){var t=e.target,n=t.getBoundingClientRect().height;t.scrollTop+n>=t.scrollHeight-s&&f(!0)};return t.current.addEventListener("scroll",e),function(){var n;null===(n=t.current)||void 0===n||n.removeEventListener("scroll",e)}}}),[]),(0,a.useEffect)((function(){d&&!c&&l&&(null===i||void 0===i||i())}),[d])}},9225:function(e,t,n){n.d(t,{u:function(){return a}});var r=n(7313);function a(e,t){var n=(0,r.useRef)(e);n.current=e;var a=(0,r.useRef)(!1);(0,r.useEffect)((function(){return a.current=!0,n.current((function(){return a.current})),function(){a.current=!1}}),t)}},1608:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(4165),a=n(1413),s=n(5861),c=n(9439),l=n(4457),i=n(7313),u=n(4511),o=n(9466),d=n(4021),f=n(809),p=n(623),x=n(887),m=n(6791),h=n(4136),v=n(5123),g=n(8469),b=n(3433),j=n(4925),w=n(6404),N=n(3737),y=["execute"],Z=n(6417),k=(0,i.memo)((function(e){var t=e.adType,n=(0,i.useRef)(null),o=function(e,t){var n=(0,i.useState)([]),u=(0,c.Z)(n,2),o=u[0],d=u[1],f=(0,m.r)((function(){return S.apply(this,arguments)}),!1),p=f.execute,x=(0,j.Z)(f,y),h=(0,i.useState)(void 0),g=(0,c.Z)(h,2),Z=g[0],k=g[1];function E(){return(E=(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:(t=e.sent)&&d((function(e){return[].concat((0,b.Z)(e),(0,b.Z)(t))})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function S(){return S=(0,s.Z)((0,r.Z)().mark((function t(){var n,s,c,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],s=[],t.prev=2,Z&&s.push((0,l.TQ)(Z)),c=l.IO.apply(void 0,[(0,l.hJ)(v.db,"ads"),(0,l.Xo)("createdAt","desc")].concat(s,[(0,l.ar)("type","==",e),(0,l.b9)(w.p)])),t.next=7,(0,l.PL)(c);case 7:return i=t.sent,k(i.docs[i.docs.length-1]),i.docs.forEach((function(e){n.push((0,a.Z)({id:e.id},e.data()))})),t.abrupt("return",n);case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",[]);case 16:case"end":return t.stop()}}),t,null,[[2,13]])}))),S.apply(this,arguments)}return(0,N.M)({ref:t,canLoadMore:!!Z,loading:x.isLoading,fetchFn:function(){return E.apply(this,arguments)}}),(0,i.useEffect)((function(){function e(){return(e=(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,d(null!==t&&void 0!==t?t:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,a.Z)((0,a.Z)({},x),{},{data:o})}(t,n),d=o.data,f=(0,u.$)().t;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"flex items-center pl-5",children:[(0,Z.jsx)("div",{className:"w-fit py-2 px-5 text-lg text-green-500 uppercase border",children:f(x.Bs[t])}),(0,Z.jsx)("div",{className:"flex-1 h-[1px] bg-gray-200"})]}),(0,Z.jsx)("div",{ref:n,className:"mt-5 max-h-[700px] overflow-y-auto",children:null===d||void 0===d?void 0:d.map((function(e){return(0,Z.jsx)(p.YE,{data:e},e.id)}))})]})})),E=n(7864),S=n(7890);function T(e){var t,n=e.data,r=(0,u.$)().t,a=(0,S.s0)(),s=n.price,c=n.images,l=n.houseType,i=n.width,o=n.length,d=n.structure,p=n.districtName,m=n.architecture,h=n.slug,v=i*o;return v=Number.isInteger(v)?v:v.toFixed(2),(0,Z.jsxs)("div",{className:"relative w-full mx-auto rounded-2xl shadow bg-white overflow-hidden",children:[(0,Z.jsxs)("div",{className:"relative",children:[(0,Z.jsx)("div",{className:"relative w-full aspect-video overflow-hidden",children:(0,Z.jsx)("img",{onClick:function(){return a("/".concat(h))},className:"absolute w-full h-full top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 object-cover",src:null!==(t=c[0])&&void 0!==t&&t.id?"https://lh3.googleusercontent.com/d/".concat(c[0].id):f.l_,alt:""})}),(0,Z.jsx)("div",{className:"absolute top-[100%] left-3 bg-gray-300 px-2 py-0.5 rounded text-sm  z-10 -translate-y-1/2",children:"VIP \u0111\u0103ng tin"})]}),(0,Z.jsxs)("div",{className:"p-3",children:[(0,Z.jsxs)("h1",{className:"font-semibold tracking-tight text-base md:text-lg lg:text-xl text-orange-500 mt-2",children:["Gi\xe1 t\u1eeb ",(s/1e3).toFixed(0)," t\u1ef7"]}),(0,Z.jsxs)("h2",{className:"font-semibold tracking-tight text-base md:text-lg lg:text-xl",children:[r(x.tU[l])," ",p]}),(0,Z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Z.jsx)(E.ocf,{className:"text-gray-400 text-sm md:text-base"}),(0,Z.jsxs)("span",{className:"text-sm md:text-base font-medium w-full truncate",children:[r("size"),": ",v,"m\xb2 (",i," x ",o,"m)"]})]}),(0,Z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Z.jsx)(E.iqr,{className:"text-gray-400 text-sm md:text-base"}),(0,Z.jsxs)("span",{className:"text-sm md:text-base font-medium w-full truncate",children:[r("architecture"),": ",m]})]}),(0,Z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Z.jsx)(E.As9,{className:"text-gray-400 text-sm md:text-base"}),(0,Z.jsxs)("span",{className:"text-sm md:text-base font-medium w-full truncate",children:[r("structure"),": ",d]})]})]})]})}var L={autoplay:!0,autoplaySpeed:5e3,dots:!1,fade:!0,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,arrows:!1,accessibility:!0},P=[f.Ps,f.E0,f.EA,f.oN,f.sm,f.Hr,f.n8,f.mK,f._5];function I(){var e,t=(0,u.$)().t,n=function(){var e=(0,m.r)((function(){return t.apply(this,arguments)}));function t(){return(t=(0,s.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,l.IO)((0,l.hJ)(v.db,"ads"),(0,l.ar)("type","==",x.Bs.advertisement),(0,l.ar)("published","==",!0),(0,l.Xo)("createdAt","desc"),(0,l.b9)(1)),e.prev=1,e.next=4,(0,l.PL)(t);case 4:if(!(n=e.sent).empty){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",(0,a.Z)({id:n.docs[0].id},n.docs[0].data()));case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return e}(),b=n.data,j=(0,m.r)((function(){return F.apply(this,arguments)})),w=j.data,N=(0,i.useState)([]),y=(0,c.Z)(N,2),E=y[0],S=y[1],I=(0,h.i)(),_=(0,c.Z)(I,1)[0],A=(0,i.useMemo)((function(){var e=3;return _>480&&_<1024?e=2:_<480&&(e=1),{autoplay:!0,autoplaySpeed:5e3,fade:!1,infinite:(null===w||void 0===w?void 0:w.length)>3,speed:500,slidesToShow:e,slidesToScroll:1,arrows:!1,accessibility:!0}}),[_,null===w||void 0===w?void 0:w.length]);function F(){return(F=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,l.IO)((0,l.hJ)(v.db,"properties"),(0,l.Xo)("createdAt","desc"),(0,l.ar)("published","==",!0),(0,l.ar)("projectPinned","==",!0),(0,l.b9)(10)),e.next=4,(0,l.PL)(t);case 4:return n=e.sent,s=[],n.docs.forEach((function(e){s.push((0,a.Z)({id:e.id},e.data()))})),e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}(0,i.useEffect)((function(){document.title="Vialand";var e=(0,l.IO)((0,l.hJ)(v.db,"properties"),(0,l.Xo)("createdAt","desc"),(0,l.ar)("published","==",!0),(0,l.ar)("featurePinned","==",!0),(0,l.b9)(30)),t=(0,l.cf)(e,(function(e){var t=[];e.forEach((function(e){t.push((0,a.Z)({id:e.id},e.data()))})),S(t)}),(function(e){}));return function(){t()}}),[]);var B=null!==(e=(0,g.sK)("img",null===b||void 0===b?void 0:b.content).map((function(e){return e.src}))[0])&&void 0!==e?e:f.mK;return(0,Z.jsxs)(i.Fragment,{children:[(0,Z.jsx)(d.Z,(0,a.Z)((0,a.Z)({className:"h-[30vh] md:h-[56vh] w-full overflow-hidden"},L),{},{children:P.map((function(e,t){return(0,Z.jsx)("div",{children:(0,Z.jsx)("div",{className:"w-full h-[30vh] md:h-[56vh]",style:{background:"url(".concat(e,") center no-repeat"),backgroundSize:"cover"}})},t)}))})),(0,Z.jsxs)("div",{className:"mx-2 md:mx-10",children:[(0,Z.jsxs)("div",{className:"my-12",children:[(0,Z.jsxs)("div",{className:"flex items-center",children:[(0,Z.jsx)("h1",{className:"font-bold md:text-xl",children:t("real_estate_project")}),(0,Z.jsx)("div",{className:"flex-grow"}),(0,Z.jsx)(o.rU,{to:"/dang-tin",children:(0,Z.jsx)("button",{className:"btn btn--secondary",children:t("post_news")})})]}),(0,Z.jsx)(d.Z,(0,a.Z)((0,a.Z)({className:"md:w-[calc(100%+2rem)] md:-left-5 mx-auto mt-5"},A),{},{children:(null!==w&&void 0!==w?w:[]).map((function(e){return(0,Z.jsx)("div",{className:"px-2 md:px-4",children:(0,Z.jsx)(T,{data:e},e.id)},e.id)}))}))]}),(0,Z.jsxs)("div",{className:"flex flex-col xl:flex-row gap-16 my-5",children:[(0,Z.jsx)(o.rU,{className:"block relative max-w-[80vh] w-full h-[59vh] mx-auto",target:"_blank",rel:"noreferrer",to:"/quang-cao/"+(null===b||void 0===b?void 0:b.id)||0,children:(0,Z.jsx)("div",{className:"w-full h-full",style:{backgroundImage:"url(".concat("".concat(B),"), url(",f.mK,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:(0,Z.jsx)("div",{className:"absolute bottom-0 left-0 w-full text-white text-xl p-[20px] bg-black bg-opacity-50",children:(0,Z.jsx)("p",{className:"text-center text-base md:text-lg lg:text-xl line-clamp-2",children:(null===b||void 0===b?void 0:b.title)||t("lavender_project")})})})}),(0,Z.jsx)("div",{className:"flex-1 w-full xl:w-2/3 h-auto xl:h-[59vh] overflow-y-auto",children:E.map((function(e){return(0,Z.jsx)(p.eu,{data:e},e.id)}))})]}),(0,Z.jsxs)("div",{className:"relative grid grid-cols-2 gap-5 mb-5",children:[(0,Z.jsx)("div",{className:"col-span-2 lg:col-span-1",children:(0,Z.jsx)(k,{adType:x.Bs.news})}),(0,Z.jsx)("div",{className:"col-span-2 lg:col-span-1",children:(0,Z.jsx)(k,{adType:x.Bs.project})})]})]})]})}}}]);