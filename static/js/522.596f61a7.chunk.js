"use strict";(self.webpackChunkvialand=self.webpackChunkvialand||[]).push([[522],{9869:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(4165),a=t(5861),c=t(1172);function i(e,n,t){return s.apply(this,arguments)}function s(){return(s=(0,a.Z)((0,r.Z)().mark((function e(n,t,a){var i,s,l,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:n,mode:"cors",headers:{"Content-Type":"application/json",secret:"h6N&d3ZpiUZ@Mx9sjAF0!"}},s=t,a&&("GET"===n?(l=c.stringify(a),s+="?"+l):(i.body=a instanceof FormData?a:JSON.stringify(a),a instanceof FormData&&(i.headers={secret:"h6N&d3ZpiUZ@Mx9sjAF0!"}))),e.next=5,fetch(s,i);case 5:if(!(o=e.sent).ok){e.next=10;break}return e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1716:function(e,n,t){t.d(n,{Cj:function(){return s},Pe:function(){return l},wt:function(){return i}});var r=t(8941),a=t(9869),c=r.Z.common.baseApiUrl+"/upload",i=function(e){return(0,a.Z)("DELETE",c,{ids:e})},s=function(e){var n=new FormData;return n.append("file",e),(0,a.Z)("POST",c+"/google-img",n)},l=function(e,n){var t=new FormData;return t.append("file",e),t.append("newsId",n),(0,a.Z)("POST",c+"/google-vid",t)}},7629:function(e,n,t){t.d(n,{ZE:function(){return a},vh:function(){return r}});var r="\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau \xedt ph\xfat",a="\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng li\xean h\u1ec7 qu\u1ea3n tr\u1ecb vi\xean"},9522:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r=t(1413),a=t(4165),c=t(5861),i=t(9439),s=t(3061),l=t(4457),o=t(9548),u=t(7313),d=t(5627),p=t(4511),h=t(7864),m=t(8512),x=t(1716),g=t(3800),f=t(1571),b=t(8298),v=t(8941),j=t(7629),N=t(200),w=t(658),y=t.n(w),Z=t(887),k=t(6243),S=t(5993),T=t(699),F=t(3027),C=function(e){var n=e.province,t=e.ward,a=e.district,c=T.find((function(e){return parseInt(e.id,10)===n})),i=F.find((function(e){return parseInt(e.id,10)===a})),s=S.find((function(e){return parseInt(e.id,10)===t})),l="".concat(i.typeName," ").concat(i.name.startsWith("Qu\u1eadn")?i.name.substring(5):i.name);return(0,r.Z)((0,r.Z)({},e),{},{provinceName:"".concat(c.typeName," ").concat(null===c||void 0===c?void 0:c.name),districtName:l,wardName:null===s||void 0===s?void 0:s.name})},A=t(2440),I=t(4885),E=t(5629),V=t(6417),D=v.Z.google,P=(D.apiKey,D.clientId,v.Z.common),q=function(e){var n=e.action,t=e.houseType,r=e.width,a=e.length,c=e.address,i=r*a;i=Number.isInteger(i)?i:i.toFixed(2);var s=C(c),l=s.address,u=s.wardName,d=s.districtName,p=s.provinceName;return["".concat((0,o.t)(N.m3.find((function(e){return e.value===n})).name)," ").concat((0,o.t)(N.Wm.find((function(e){return e.value===t})).name)," ").concat(i,"m\xb2 (").concat(r," x ").concat(a,"m)"),"".concat(l,", ").concat(u,", ").concat(d,", ").concat(p)]};function L(){var e=(0,p.$)().t,n=(0,d.cI)({defaultValues:{action:Z.Hx.trade,houseType:Z.tU.house,architecture:""}}),t=n.control,o=n.formState.errors,v=n.register,w=n.handleSubmit,S=n.watch,T=(0,u.useState)(!1),F=(0,i.Z)(T,2),D=F[0],L=F[1],M=(0,u.useState)(!1),H=(0,i.Z)(M,2),U=H[0],K=H[1],O=(0,u.useState)(!1),W=(0,i.Z)(O,2),J=W[0],R=W[1],Q=(0,u.useState)(null),_=(0,i.Z)(Q,2),z=_[0],G=_[1],Y=(0,u.useState)([]),B=(0,i.Z)(Y,2),$=B[0],X=B[1],ee=(0,u.useState)(null),ne=(0,i.Z)(ee,2),te=ne[0],re=ne[1],ae=S("action"),ce=S("houseType"),ie=ce===Z.tU.apartment?"VD: T\u1ea7ng 1":ce===Z.tU.land?"VD: \u0110\u1ea5t \u1edf t\u1ea1i n\xf4ng th\xf4n":" VD: Tr\u1ec7t 01 L\u1eedng 01 L\u1ea7u",se=(0,u.useMemo)((function(){return ae===Z.Hx.trade?"billion":"million"}),[ae]),le=+ae===Z.Hx.rent?N.Wm:N.Wm.filter((function(e){return e.value!==Z.tU.office})),oe=ae===Z.Hx.trade;function ue(e){return de.apply(this,arguments)}function de(){return(de=(0,c.Z)((0,a.Z)().mark((function e(n){var t,c,s,o,u,d,p,h,m,g,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=q(n),c=(0,i.Z)(t,2),s=c[0],o=c[1],u=(0,I.lV)(s+"-"+o)+"-"+Date.now().toString(),d=+String(n.price).replaceAll(",","."),p=oe?1e3*d:d,e.next=6,(0,x.Cj)(z);case 6:return h=e.sent,m=h.data,e.next=10,Promise.all($.map((function(e){return(0,x.Cj)(e)})));case 10:return g=e.sent,e.next=13,(0,l.ET)((0,l.hJ)(k.db,"properties"),(0,r.Z)((0,r.Z)((0,r.Z)({},n),C(n.address)),{},{price:p,slug:u,published:!1,hideVideo:!1,images:g.map((function(e){return e.data})),paymentImage:m,subject:s,createdAt:l.EK.now().seconds}));case 13:return f=e.sent,e.next=16,fetch(P.baseApiUrl+"/news-submission",{headers:{"Content-Type":"application/json",secret:P.secret},method:"POST",body:JSON.stringify({name:s,link:window.location.origin+"/chothue?slug=".concat(u)})});case 16:return e.next=18,(0,x.Pe)(te,f.id);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,m.Am.promise(ue(n),{pending:"\u0110ang \u0111\u0103ng tin, vui l\xf2ng kh\xf4ng \u0111\xf3ng tab hi\u1ec7n t\u1ea1i",success:"\u0110\u0103ng tin BDS th\xe0nh c\xf4ng",error:j.vh});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.prev=8,"undefined"!==typeof window&&"location"in window&&window.location.reload(),R(!1),e.finish(8);case 12:case"end":return e.stop()}}),e,null,[[1,6,8,12]])})));return function(n){return e.apply(this,arguments)}}(),he=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n,t,c,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,l.IO)((0,l.hJ)(k.db,"properties"),(0,l.Xo)("projectPinnedExpiredAt","desc"),(0,l.ar)("published","==",!0),(0,l.ar)("projectPinned","==",!0),(0,l.b9)(E.PROJECT_NEWS_LIMIT)),e.next=4,(0,l.PL)(n);case 4:if((t=e.sent).size!==E.PROJECT_NEWS_LIMIT){e.next=10;break}return c=t.docs[E.PROJECT_NEWS_LIMIT-1],i=(0,r.Z)({id:c.id},c.data()),m.Am.info("B\u1ea3ng tin \u0111\xe3 \u0111\u1ea7y, tin cu\u1ed1i c\xf9ng s\u1ebd h\u1ebft h\u1ea1n v\xe0o l\xfac ".concat(y()(1e3*i.projectPinnedExpiredAt).format("DD/MM/YYYY HH:mm A"))),e.abrupt("return");case 10:m.Am.info("B\u1ea3ng tin c\xf2n tr\u1ed1ng, c\xf3 th\u1ec3 \u0111\u0103ng tin ngay"),K(!0),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){document.title="\u0110\u0103ng tin"}),[]),(0,V.jsxs)("div",{className:"my-5 mx-2 md:mx-10 lg:mx-20 xl:mx-32 flex gap-5 md:gap-10 kg:gap-20 xl:gap-32 text-xs sm:text-sm md:text-base",children:[(0,V.jsx)("div",{className:"sticky top-[100px] w-full h-[80vh] mx-auto hidden lg:block",style:{background:"url(".concat(g.E0,") center no-repeat"),backgroundSize:"cover"},children:(0,V.jsx)("div",{className:"absolute bottom-0 left-0 w-full text-white text-xl p-[20px] bg-black bg-opacity-50",children:(0,V.jsx)("p",{className:"text-center",children:"\u0110\u0103ng tin b\u1ea5t \u0111\u1ed9ng s\u1ea3n"})})}),(0,V.jsxs)("form",{className:"grid grid-cols-4 w-full place-content-start gap-5",children:[(0,V.jsxs)("div",{className:"col-span-4 xl:col-span-3",children:[(0,V.jsx)("h1",{className:"text-base md:text-xl xl:text-2xl font-medium",children:"\u0110i\u1ec1n th\xf4ng tin b\u1ea5t \u0111\u1ed9ng s\u1ea3n"}),(0,V.jsxs)("div",{className:"my-2 flex justify-center items-center rounded text-xs md:text-sm",children:[(0,V.jsx)("div",{className:(0,s.Z)("px-3 py-1 bg-gray-200 border-2 border-gray-200 rounded-l cursor-pointer transition-colors",!D&&"!bg-blue-500 text-white"),onClick:function(){return L(!1)},children:"\u0110\u0103ng tin th\u01b0\u1eddng"}),(0,V.jsxs)("div",{className:(0,s.Z)("flex items-center gap-1 px-3 py-1 bg-gray-200 border-2 border-gray-200 rounded-r cursor-pointer transition-colors",D&&"!bg-blue-500 text-white"),onClick:function(){return L(!0)},children:["\u0110\u0103ng tin VIP",(0,V.jsx)(h.dzv,{className:"text-base"})]})]})]}),(0,V.jsx)(f.cw,{className:"col-span-4 xl:col-span-1",htmlFor:"subject",label:"B\xe1n (Cho thu\xea)",error:o.subject,children:(0,V.jsx)("select",(0,r.Z)((0,r.Z)({},v("action",{required:!0,valueAsNumber:!0})),{},{className:"input",children:N.m3.map((function(n){return(0,V.jsx)("option",{value:n.value,children:e(n.name)},n.value)}))}))}),(0,V.jsx)(f.cw,{className:"col-span-2 xl:col-span-1",htmlFor:"type",label:"Lo\u1ea1i h\xecnh",error:o.houseType,children:(0,V.jsx)("select",(0,r.Z)((0,r.Z)({},v("houseType",{required:!0,valueAsNumber:!0})),{},{className:"input",children:le.map((function(n){return(0,V.jsx)("option",{value:n.value,children:e(n.name)},n.value)}))}))}),(0,V.jsx)(f.cw,{className:"col-span-2 xl:col-span-1",htmlFor:"width",label:"Chi\u1ec1u ngang (m)",error:o.width,children:(0,V.jsx)("input",(0,r.Z)((0,r.Z)({},v("width",{valueAsNumber:!0,required:!0,min:0,max:1e4})),{},{className:"input",placeholder:"Nh\u1eadp chi\u1ec1u ngang",type:"number",step:"0.01",min:0,max:1e4}))}),(0,V.jsx)(f.cw,{className:"col-span-2 xl:col-span-1",htmlFor:"length",label:"Chi\u1ec1u d\xe0i (m)",error:o.length,children:(0,V.jsx)("input",(0,r.Z)((0,r.Z)({},v("length",{valueAsNumber:!0,required:!0,min:0,max:1e4})),{},{className:"input",placeholder:"Nh\u1eadp chi\u1ec1u d\xe0i",type:"number",step:"0.01",min:0,max:1e4}))}),(0,V.jsx)(f.cw,{className:"col-span-2 xl:col-span-1",htmlFor:"price",label:"Gi\xe1 (".concat(e(se)," \u0111\u1ed3ng)"),error:o.price,children:(0,V.jsx)("input",(0,r.Z)((0,r.Z)({},v("price",{required:!0,min:0,max:1e4,validate:function(e){var n=e.toString().split("").filter((function(e){return","===e||"."===e})),t=String(e).replaceAll(",",".");return!(isNaN(+t)||n.length>1)||"Gi\xe1 kh\xf4ng h\u1ee3p l\u1ec7"}})),{},{className:"input",placeholder:"VD: 0.35 (0,35)",type:"text",onKeyDown:function(e){var n=new RegExp(/^[\d,.]$/);e.ctrlKey||e.key.match(n)||["alt","tab","backspace","delete","enter","arrowleft","arrowright","arrowup","arrowdown"].includes(e.key.toLowerCase())||e.preventDefault()},min:0,max:1e4}))}),(0,V.jsx)(f.cw,{className:"xl:col-span-2 col-span-4",htmlFor:"structure",label:ce===Z.tU.apartment?"S\u1ed1 t\u1ea7ng":"K\u1ebft c\u1ea5u",error:o.structure,children:(0,V.jsx)("input",(0,r.Z)((0,r.Z)({},v("structure",{required:!0})),{},{className:"input",placeholder:ie,type:"text"}))}),(0,V.jsx)(f.cw,{className:"xl:col-span-1 col-span-4",htmlFor:"architecture",label:"Ki\u1ebfn tr\xfac",error:o.architecture,children:(0,V.jsx)("input",(0,r.Z)((0,r.Z)({},v("architecture")),{},{className:"input",placeholder:ce===Z.tU.land?"(\u0111\u1ec3 tr\u1ed1ng)":"VD: 2PN 1WC",type:"text"}))}),(0,V.jsx)(f.cw,{className:"xl:col-span-1 col-span-4",htmlFor:"direction",label:"H\u01b0\u1edbng",error:o.direction,children:(0,V.jsx)("input",(0,r.Z)((0,r.Z)({},v("direction",{required:!0})),{},{className:"input",placeholder:"Nh\u1eadp h\u01b0\u1edbng",type:"text"}))}),(0,V.jsx)(f.cw,{className:"col-span-4",htmlFor:"address",label:"\u0110\u1ecba ch\u1ec9",children:(0,V.jsx)(d.Qr,{control:t,name:"address",defaultValue:b.W,rules:{required:!0,validate:function(e){var n,t=Object.entries(e),r="ch\u1ecdn";return t.forEach((function(e){var t=(0,i.Z)(e,2),a=t[0];if(t[1]);else switch(a){case"ward":return void(n="ph\u01b0\u1eddng / x\xe3");case"district":return void(n="qu\u1eadn / huy\u1ec7n");case"province":return void(n="t\u1ec9nh / th\xe0nh");case"address":return n="\u0111\u1ecba ch\u1ec9",void(r="nh\u1eadp")}})),!n||"Vui l\xf2ng ".concat(r," ").concat(n)}},render:function(e){var n=e.field,t=n.value,r=n.onChange,a=e.fieldState.error;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(f.i$,{value:t,onChange:r}),(0,V.jsx)(f.Xq,{label:"\u0110\u1ecba ch\u1ec9",error:a})]})}})}),(0,V.jsx)(f.cw,{className:"col-span-2",htmlFor:"contactName",label:"T\xean li\xean h\u1ec7",error:o.contactName,children:(0,V.jsx)("input",(0,r.Z)((0,r.Z)({},v("contactName",{required:!0})),{},{className:"input",placeholder:"Nguy\u1ec5n V\u0103n A",type:"text"}))}),(0,V.jsx)(f.cw,{className:"col-span-2",htmlFor:"contactNumber",label:"S\u0110T li\xean h\u1ec7",error:o.contactNumber,children:(0,V.jsx)("input",(0,r.Z)((0,r.Z)({},v("contactNumber",{required:!0,pattern:/^0/})),{},{className:"input",maxLength:10,placeholder:"0911xxxxxx",onKeyPress:function(e){/[0-9]/.test(e.key)||e.preventDefault()},type:"text"}))}),(0,V.jsx)(f.cw,{className:"col-span-4",htmlFor:"description",label:"Th\xf4ng tin",error:o.description,children:(0,V.jsx)("textarea",(0,r.Z)((0,r.Z)({},v("description",{required:!0,maxLength:255})),{},{className:"input resize-none",placeholder:"VD: G\u1ea7n ch\u1ee3, tr\u01b0\u1eddng h\u1ecdc...",rows:5,maxLength:255}))}),(0,V.jsx)(f.cw,{className:"col-span-4",htmlFor:"addressLink",label:"Link google map",children:(0,V.jsx)("input",(0,r.Z)((0,r.Z)({},v("addressLink")),{},{className:"input",placeholder:"Nh\u1eadp link google map...",type:"text"}))}),D&&(0,V.jsx)("div",{className:"col-span-4 mb-5",children:(0,V.jsx)("p",{className:"text-red-500 text-base md:text-xl xl:text-2xl font-medium",children:"\u0110\u0103ng tin VIP s\u1ebd hi\u1ec3n th\u1ecb li\xean t\u1ee5c 03 ng\xe0y tr\xean Trang ch\u1ee7"})}),(0,V.jsx)("div",{className:"col-span-4",children:(0,V.jsx)("label",{htmlFor:"",children:(0,V.jsx)("div",{className:"relative aspect-vid",children:(0,V.jsx)("iframe",{className:"absolute top-0 left-0 w-full h-full",src:"https://www.youtube.com/embed/IJPb7lo6CK4?autoplay=1",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})}),(0,V.jsxs)("div",{className:"col-span-4",children:[(0,V.jsx)("h1",{className:"text-base md:text-xl xl:text-2xl font-medium mb-5",children:"Vui l\xf2ng ti\u1ebfn h\xe0nh thanh to\xe1n \u0111\u1ec3 \u0111\u0103ng tin"}),!D&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("p",{children:"H\u01b0\u1edbng d\u1eabn thanh to\xe1n"}),(0,V.jsx)("p",{children:"Qu\xe9t m\xe3 QR code b\u1eb1ng App b\u1ea5t k\u1ef3 (ho\u1eb7c)"}),(0,V.jsx)("p",{children:"Chuy\u1ec3n ti\u1ec1n qua Vietcombank"}),(0,V.jsx)("p",{children:"S\u1ed1 ti\u1ec1n 20.000\u0111"}),(0,V.jsx)("p",{children:"Ng\u01b0\u1eddi nh\u1eadn STK 0531002582311"}),(0,V.jsxs)("p",{children:["Sau \u0111\xf3 t\u1ea3i \u1ea3nh ch\u1ee5p h\xf3a \u0111\u01a1n \u0111\xe3 thanh to\xe1n l\xean v\xe0o \xf4 b\xean d\u01b0\u1edbi r\u1ed3i b\u1ea5m n\xfat ",(0,V.jsx)("b",{children:"Ho\xe0n t\u1ea5t"})]}),(0,V.jsx)("img",{className:"w-[175px] md:w-[259px] h-[175px] md:h-[259px] mx-auto my-5 shadow",src:g.qr,alt:""})]}),D&&!U&&(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("button",{className:"btn w-full md:w-[259px] mx-auto",type:"button",onClick:he,children:"Ki\u1ec3m tra b\u1ea3ng tin"})}),D&&U&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("p",{children:"H\u01b0\u1edbng d\u1eabn thanh to\xe1n"}),(0,V.jsx)("p",{children:"Qu\xe9t m\xe3 QR code b\u1eb1ng App b\u1ea5t k\u1ef3 (ho\u1eb7c)"}),(0,V.jsx)("p",{children:"Chuy\u1ec3n ti\u1ec1n qua Vietcombank"}),(0,V.jsx)("p",{children:"S\u1ed1 ti\u1ec1n 120.000\u0111"}),(0,V.jsx)("p",{children:"Ng\u01b0\u1eddi nh\u1eadn STK 0531002582311"}),(0,V.jsxs)("p",{children:["Sau \u0111\xf3 t\u1ea3i \u1ea3nh ch\u1ee5p h\xf3a \u0111\u01a1n \u0111\xe3 thanh to\xe1n l\xean v\xe0o \xf4 b\xean d\u01b0\u1edbi r\u1ed3i b\u1ea5m n\xfat ",(0,V.jsx)("b",{children:"Ho\xe0n t\u1ea5t"})]}),(0,V.jsx)("img",{className:"w-[175px] md:w-[259px] mx-auto my-5 shadow",src:g.NG,alt:""})]}),(D&&U||!D)&&(0,V.jsx)(f.cw,{className:"col-span-4",htmlFor:"images",label:"\u1ea2nh ch\u1ee5p h\xf3a \u0111\u01a1n",children:(0,V.jsx)(f.Ur,{accepts:A.eI,limitMb:3,className:"mx-auto w-full md:w-[259px]",placeholder:"T\u1ea3i l\xean \u1ea3nh ch\u1ee5p h\xf3a \u0111\u01a1n",onChange:function(e){var n;G(null!==(n=e[0])&&void 0!==n?n:null)}})})]}),!!z&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(f.cw,{className:"col-span-4",htmlFor:"images",label:"H\xecnh \u1ea3nh",children:(0,V.jsx)(f.Ur,{accepts:A.eI,multiple:!0,limitMb:3,max:5,uploaderCls:"mx-auto w-full md:w-[259px]",className:"col-span-4 mx-auto w-full",placeholder:"T\u1ea3i l\xean ho\u1eb7c k\xe9o th\u1ea3 h\xecnh \u1ea3nh",onChange:X})}),(0,V.jsxs)(f.cw,{className:"col-span-4",htmlFor:"video",label:"Link video",children:[(0,V.jsx)("small",{children:"Maximum file size limit is 300Mb.(Video Length 12-13 Minutes)"}),(0,V.jsx)(f.Ur,{limitMb:300,accept:"video/*",accepts:A.R3,className:"col-span-4 mx-auto w-full",placeholder:"T\u1ea3i l\xean ho\u1eb7c k\xe9o th\u1ea3 video",onChange:function(e){var n;return re(null!==(n=e[0])&&void 0!==n?n:null)}})]})]}),(0,V.jsx)("div",{className:"col-span-4 ",children:(0,V.jsxs)("button",{type:"button",disabled:J,onClick:function(){w((function(e){z?pe(e):m.Am.warn("Vui l\xf2ng t\u1ea3i l\xean \u1ea3nh ch\u1ee5p h\xf3a \u0111\u01a1n \u0111\u1ec3 \u0111\u0103ng b\xe0i")}))()},className:"btn w-full md:w-[259px] mx-auto mt-5",children:[J&&(0,V.jsx)(h.Z7b,{className:"animate-spin"}),"Ho\xe0n t\u1ea5t"]})})]})]})}}}]);