"use strict";(self.webpackChunkvialand=self.webpackChunkvialand||[]).push([[34],{1716:function(e,n,t){t.d(n,{Cj:function(){return u},Pe:function(){return o},hF:function(){return l},ws:function(){return i},wt:function(){return s}});var r=t(8941),a=t(9869),c=r.Z.common.baseApiUrl+"/upload",i=function(e){var n=new FormData;return n.append("file",e),(0,a.Z)("POST",c,n)},s=function(e){return(0,a.Z)("DELETE",c,{ids:e})},u=function(e){var n=new FormData;return n.append("file",e),(0,a.Z)("POST",c+"/google-img",n)},o=function(e,n){var t=new FormData;return t.append("file",e),t.append("newsId",n),(0,a.Z)("POST",c+"/google-vid",t)},l=function(e){return(0,a.Z)("DELETE",c+"/google",{ids:e})}},7629:function(e,n,t){t.d(n,{PU:function(){return c},ZE:function(){return a},vh:function(){return r}});var r="\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau \xedt ph\xfat",a="\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng li\xean h\u1ec7 qu\u1ea3n tr\u1ecb vi\xean",c="Qu\xe1 tr\xecnh t\u1ea3i l\xean \u0111\xe3 b\u1ecb l\u1ed7i. Qu\xfd kh\xe1ch vui l\xf2ng li\xean h\u1ec7 tr\u1ef1c ti\u1ebfp v\u1edbi s\u1ed1 Hotline 0868113025 (ho\u1eb7c Zalo) \u0111\u1ec3 \u0111\u01b0\u1ee3c x\u1eed l\xfd k\u1ecbp th\u1eddi"},6243:function(e,n,t){t.d(n,{db:function(){return b}});var r=t(271),a=t(995),c=t(573),i=t(6797),s=t(8941),u=s.Z.firebase,o=u.apiKey,l=u.appId,d=u.databaseURL,p=u.projectId,h=u.storageBucket,f=u.authDomain,m=u.messagingSenderId,v=s.Z.google.recaptchaSiteKey,g={apiKey:o,authDomain:f,databaseURL:d,projectId:p,storageBucket:h,messagingSenderId:m,appId:l},x=(0,r.ZF)(g),b=(0,c.ad)(x);(0,i.cF)(x),(0,a.yu)(x,{provider:new a.z9(v),isTokenAutoRefreshEnabled:!0})},34:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(1413),a=t(4165),c=t(5861),i=t(9439),s=t(573),u=t(7313),o=t(5627),l=t(4511),d=t(7864),p=t(9466),h=t(8512),f=t(1716),m=t(753),v=t(7629),g=t(200),x=t(887),b=t(6243),j=t(8469),Z=t(6417);function w(){var e=(0,l.$)().t,n=(0,o.cI)({defaultValues:{content:"",published:!0,type:x.Bs.advertisement}}),t=n.register,w=n.handleSubmit,N=n.reset,y=n.control,S=n.formState.errors,T=u.useState([]),k=(0,i.Z)(T,2),E=k[0],F=k[1],D=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Am.promise((0,c.Z)((0,a.Z)().mark((function e(){var t,r,c,i,u,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.content,r=n.title,c=n.type,i=n.published,e.prev=1,e.next=4,(0,s.ET)((0,s.hJ)(b.db,"ads"),{title:r,content:t,type:c,published:"true"===String(i),createdAt:s.EK.now().seconds});case 4:return u=(0,j.ih)(t),o=E.filter((function(e){return!u.includes(e)})),e.next=8,f.wt(o);case 8:F([]),N(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])}))),{pending:"\u0110ang t\u1ea1o qu\u1ea3ng c\xe1o",success:"T\u1ea1o qu\u1ea3ng c\xe1o th\xe0nh c\xf4ng",error:v.vh});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return u.useEffect((function(){return function(){}}),[]),(0,Z.jsxs)("div",{className:"min-h-screen p-5",children:[(0,Z.jsxs)("div",{className:"flex items-center mb-5",children:[(0,Z.jsx)("h1",{className:"font-medium text-base md:text-lg",children:"T\u1ea1o qu\u1ea3ng c\xe1o"}),(0,Z.jsx)("div",{className:"flex-grow"}),(0,Z.jsx)(p.rU,{to:"/chothue/quang-cao",children:(0,Z.jsxs)("button",{className:"btn",children:[(0,Z.jsx)(d.CF5,{}),"Tr\u1edf v\u1ec1"]})})]}),(0,Z.jsxs)("form",{className:"grid grid-cols-4 gap-3",onSubmit:w(D),children:[(0,Z.jsx)(m.cw,{className:"col-span-4",htmlFor:"subject",label:"Ti\xeau \u0111\u1ec1",error:S.title,children:(0,Z.jsx)("input",(0,r.Z)((0,r.Z)({},t("title",{required:!0,maxLength:200})),{},{className:"input",type:"text"}))}),(0,Z.jsx)(m.cw,{className:"col-span-4 md:col-span-2",htmlFor:"subject",label:"Lo\u1ea1i tin",error:S.type,children:(0,Z.jsx)("select",(0,r.Z)((0,r.Z)({},t("type",{valueAsNumber:!0})),{},{className:"input",children:g.aj.map((function(n){return(0,Z.jsx)("option",{value:n.value,children:e(n.name)},n.value)}))}))}),(0,Z.jsx)(m.cw,{className:"col-span-4 md:col-span-2",htmlFor:"published",label:"Tr\u1ea1ng th\xe1i",error:S.published,children:(0,Z.jsx)("select",(0,r.Z)((0,r.Z)({},t("published")),{},{className:"input",children:g.Df.map((function(n,t){return(0,Z.jsx)("option",{value:String(n.value),children:e(n.name)},t)}))}))}),(0,Z.jsx)(o.Qr,{control:y,name:"content",render:function(e){var n=e.field,t=n.onChange,r=n.onBlur,a=n.value,c=e.fieldState.error;return(0,Z.jsx)(m.cw,{className:"col-span-4",htmlFor:"content",label:"N\u1ed9i dung",error:c,children:(0,Z.jsx)(m.ML,{value:a,onBlur:function(e){!function(e){var n=(0,j.ih)(e);F((function(e){return Array.from(new Set(e.concat(n)))}))}(e),r()},onChange:t})})}}),(0,Z.jsx)("div",{className:"col-span-4 col-start-1",children:(0,Z.jsx)("button",{className:"btn",type:"submit",children:"T\u1ea1o qu\u1ea3ng c\xe1o"})})]})]})}}}]);