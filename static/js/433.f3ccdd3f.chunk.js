"use strict";(self.webpackChunkvialand=self.webpackChunkvialand||[]).push([[433],{6791:function(e,n,t){t.d(n,{r:function(){return i}});var r=t(4165),a=t(5861),u=t(9439),c=t(7313),s=t(9225);function i(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=(0,c.useState)("idle"),i=(0,u.Z)(t,2),o=i[0],d=i[1],f=(0,c.useState)(null),l=(0,u.Z)(f,2),p=l[0],v=l[1],h=(0,c.useState)(null),x=(0,u.Z)(h,2),m=x[0],Z=x[1],b="pending"===o,g="error"===o,j=(0,c.useCallback)(function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d("pending"),v(null),Z(null),n.prev=3,n.next=6,e();case 6:return a=n.sent,t&&(v(a),d("success")),n.abrupt("return",a);case 11:n.prev=11,n.t0=n.catch(3),t&&(d("error"),Z(n.t0));case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}(),[e]);return(0,s.u)((function(e){n&&j(e())}),[n]),(0,c.useEffect)((function(){return function(){d("idle"),v(null),Z(null)}}),[]),{isLoading:b,isError:g,status:o,data:p,error:m,execute:function(){return j(!0)}}}},9225:function(e,n,t){t.d(n,{u:function(){return a}});var r=t(7313);function a(e,n){var t=(0,r.useRef)(e);t.current=e;var a=(0,r.useRef)(!1);(0,r.useEffect)((function(){return a.current=!0,t.current((function(){return a.current})),function(){a.current=!1}}),n)}},6243:function(e,n,t){t.d(n,{db:function(){return b}});var r=t(271),a=t(995),u=t(573),c=t(6797),s=t(8941),i=s.Z.firebase,o=i.apiKey,d=i.appId,f=i.databaseURL,l=i.projectId,p=i.storageBucket,v=i.authDomain,h=i.messagingSenderId,x=s.Z.google.recaptchaSiteKey,m={apiKey:o,authDomain:v,databaseURL:f,projectId:l,storageBucket:p,messagingSenderId:h,appId:d},Z=(0,r.ZF)(m),b=(0,u.ad)(Z);(0,c.cF)(Z),(0,a.yu)(Z,{provider:new a.z9(x),isTokenAutoRefreshEnabled:!0})},8433:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var r=t(3061),a=t(7313),u=t(4511),c=t(7864),s=t(7890),i=t(2419),o=t(887),d=t(6462),f=t(6417),l=a.memo((function(e){var n=e.data,t=void 0===n?[]:n;return(0,f.jsx)(f.Fragment,{children:t.map((function(e){return(0,f.jsx)(i.YE,{data:e},e.id)}))})}));function p(){var e=(0,s.TH)().pathname,n=(0,u.$)().t,t=e.endsWith("/du-an")?o.Bs.project:e.endsWith("/tin-tuc")?o.Bs.news:void 0,a=(0,d._)(t,20),p=a.data,v=a.isLoading,h=a.canLoadMore,x=a.loadMoreFn;return t?(0,f.jsx)("div",{className:"p-2 md:p-5 h-full flex items-center flex-col",children:(0,f.jsxs)("div",{className:"max-w-[1000px] w-full flex-1 overflow-y-auto",children:[(0,f.jsx)(l,{data:p}),v&&(0,f.jsx)(i.x4,{title:(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)(c.Z7b,{className:"animate-spin"})," ",n("searching")]})}),h&&(0,f.jsxs)("button",{className:(0,r.Z)("btn mt-5 mx-auto",v&&"btn--disabled"),onClick:x,disabled:v,children:[v&&(0,f.jsx)(c.Z7b,{className:"animate-spin",size:16}),(0,f.jsx)("span",{children:n("load_more")})]})]})}):(0,f.jsx)(s.Fg,{to:"/"})}},6462:function(e,n,t){t.d(n,{_:function(){return h}});var r=t(3433),a=t(1413),u=t(4165),c=t(5861),s=t(4925),i=t(9439),o=t(573),d=t(7313),f=t(7890),l=t(6791),p=t(6243),v=["execute"],h=function(e,n){var t=(0,f.TH)().pathname,h=(0,d.useState)([]),x=(0,i.Z)(h,2),m=x[0],Z=x[1],b=(0,l.r)((function(){return I.apply(this,arguments)}),!1),g=b.execute,j=(0,s.Z)(b,v),w=(0,d.useState)(void 0),k=(0,i.Z)(w,2),y=k[0],E=k[1];function S(){return(S=(0,c.Z)((0,u.Z)().mark((function e(){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:(n=e.sent)&&Z((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function I(){return I=(0,c.Z)((0,u.Z)().mark((function t(){var r,c,s,i;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],c=[],t.prev=2,y&&c.push((0,o.TQ)(y)),s=o.IO.apply(void 0,[(0,o.hJ)(p.db,"ads"),(0,o.Xo)("createdAt","desc")].concat(c,[(0,o.ar)("type","==",e),(0,o.b9)(n)])),t.next=7,(0,o.PL)(s);case 7:return i=t.sent,E(i.docs[i.docs.length-1]),i.docs.forEach((function(e){r.push((0,a.Z)({id:e.id},e.data()))})),t.abrupt("return",r);case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",[]);case 16:case"end":return t.stop()}}),t,null,[[2,13]])}))),I.apply(this,arguments)}return(0,d.useEffect)((function(){function e(){return(e=(0,c.Z)((0,u.Z)().mark((function e(){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:n=e.sent,Z(null!==n&&void 0!==n?n:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,d.useEffect)((function(){return function(){Z([]),E(void 0)}}),[t]),(0,a.Z)((0,a.Z)({},j),{},{data:m,canLoadMore:!!y,loadMoreFn:function(){return S.apply(this,arguments)}})}}}]);