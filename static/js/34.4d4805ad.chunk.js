"use strict";(self.webpackChunkvialand=self.webpackChunkvialand||[]).push([[34],{9869:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(4165),a=t(5861),s=t(1172);function c(e,n,t){return i.apply(this,arguments)}function i(){return(i=(0,a.Z)((0,r.Z)().mark((function e(n,t,a){var c,i,o,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:n,mode:"cors",headers:{"Content-Type":"application/json",secret:"h6N&d3ZpiUZ@Mx9sjAF0!"}},i=t,a&&("GET"===n?(o=s.stringify(a),i+="?"+o):(c.body=a instanceof FormData?a:JSON.stringify(a),a instanceof FormData&&(c.headers={secret:"h6N&d3ZpiUZ@Mx9sjAF0!"}))),e.next=5,fetch(i,c);case 5:if(!(u=e.sent).ok){e.next=10;break}return e.next=9,u.json();case 9:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1716:function(e,n,t){t.d(n,{w:function(){return c}});var r=t(8941),a=t(9869),s=r.Z.common.baseApiUrl+"/upload",c=function(e){return(0,a.Z)("DELETE",s,{ids:e})}},7629:function(e,n,t){t.d(n,{v:function(){return r}});var r="\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau \xedt ph\xfat"},6243:function(e,n,t){t.d(n,{db:function(){return g}});var r=t(271),a=t(995),s=t(4457),c=t(6797),i=t(8941),o=i.Z.firebase,u=o.apiKey,l=o.appId,d=o.databaseURL,p=o.projectId,h=o.storageBucket,f=o.authDomain,m=o.messagingSenderId,x=i.Z.google.recaptchaSiteKey,v={apiKey:u,authDomain:f,databaseURL:d,projectId:p,storageBucket:h,messagingSenderId:m,appId:l},b=(0,r.ZF)(v),g=(0,s.ad)(b);(0,c.cF)(b),(0,a.yu)(b,{provider:new a.z9(x),isTokenAutoRefreshEnabled:!0})},34:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(1413),a=t(4165),s=t(5861),c=t(9439),i=t(4457),o=t(7313),u=t(5627),l=t(4511),d=t(7864),p=t(9466),h=t(8512),f=t(1716),m=t(623),x=t(7629),v=t(200),b=t(887),g=t(6243),j=t(8469),Z=t(6417);function y(){var e=(0,l.$)().t,n=(0,u.cI)({defaultValues:{content:"",published:!0,type:b.Bs.advertisement}}),t=n.register,y=n.handleSubmit,N=n.reset,w=n.control,k=n.formState.errors,S=o.useState([]),F=(0,c.Z)(S,2),T=F[0],A=F[1],E=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Am.promise((0,s.Z)((0,a.Z)().mark((function e(){var t,r,s,c,o,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.content,r=n.title,s=n.type,c=n.published,e.prev=1,e.next=4,(0,i.ET)((0,i.hJ)(g.db,"ads"),{title:r,content:t,type:s,published:"true"===String(c),createdAt:i.EK.now().seconds});case 4:return o=(0,j.ih)(t),u=T.filter((function(e){return!o.includes(e)})),e.next=8,f.w(u);case 8:A([]),N(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])}))),{pending:"\u0110ang t\u1ea1o qu\u1ea3ng c\xe1o",success:"T\u1ea1o qu\u1ea3ng c\xe1o th\xe0nh c\xf4ng",error:x.v});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return o.useEffect((function(){return function(){}}),[]),(0,Z.jsxs)("div",{className:"min-h-screen p-5",children:[(0,Z.jsxs)("div",{className:"flex items-center mb-5",children:[(0,Z.jsx)("h1",{className:"font-medium text-base md:text-lg",children:"T\u1ea1o qu\u1ea3ng c\xe1o"}),(0,Z.jsx)("div",{className:"flex-grow"}),(0,Z.jsx)(p.rU,{to:"/chothue/quang-cao",children:(0,Z.jsxs)("button",{className:"btn",children:[(0,Z.jsx)(d.CF5,{}),"Tr\u1edf v\u1ec1"]})})]}),(0,Z.jsxs)("form",{className:"grid grid-cols-4 gap-3",onSubmit:y(E),children:[(0,Z.jsx)(m.cw,{className:"col-span-4",htmlFor:"subject",label:"Ti\xeau \u0111\u1ec1",error:k.title,children:(0,Z.jsx)("input",(0,r.Z)((0,r.Z)({},t("title",{required:!0,maxLength:200})),{},{className:"input",type:"text"}))}),(0,Z.jsx)(m.cw,{className:"col-span-4 md:col-span-2",htmlFor:"subject",label:"Lo\u1ea1i tin",error:k.type,children:(0,Z.jsx)("select",(0,r.Z)((0,r.Z)({},t("type",{valueAsNumber:!0})),{},{className:"input",children:v.aj.map((function(n){return(0,Z.jsx)("option",{value:n.value,children:e(n.name)},n.value)}))}))}),(0,Z.jsx)(m.cw,{className:"col-span-4 md:col-span-2",htmlFor:"published",label:"Tr\u1ea1ng th\xe1i",error:k.published,children:(0,Z.jsx)("select",(0,r.Z)((0,r.Z)({},t("published")),{},{className:"input",children:v.Df.map((function(n,t){return(0,Z.jsx)("option",{value:String(n.value),children:e(n.name)},t)}))}))}),(0,Z.jsx)(u.Qr,{control:w,name:"content",render:function(e){var n=e.field,t=n.onChange,r=n.onBlur,a=n.value,s=e.fieldState.error;return(0,Z.jsx)(m.cw,{className:"col-span-4",htmlFor:"content",label:"N\u1ed9i dung",error:s,children:(0,Z.jsx)(m.ML,{value:a,onBlur:function(e){!function(e){var n=(0,j.ih)(e);A((function(e){return Array.from(new Set(e.concat(n)))}))}(e),r()},onChange:t})})}}),(0,Z.jsx)("div",{className:"col-span-4 col-start-1",children:(0,Z.jsx)("button",{className:"btn",type:"submit",children:"T\u1ea1o qu\u1ea3ng c\xe1o"})})]})]})}}}]);